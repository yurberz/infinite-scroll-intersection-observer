(this["webpackJsonpreact-intersection-observer-infinite-scroll"]=this["webpackJsonpreact-intersection-observer-infinite-scroll"]||[]).push([[0],{21:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var r,c=t(0),a=t(11),i=t.n(a),o=(t(21),t(8)),s=t(9),u=t(3),d=t(12),j=t(13),l=t(1),b=j.a.div(r||(r=Object(d.a)(["\n  margin: 0 auto;\n  max-width: 600px;\n\n  li {\n    padding: 16px;\n    margin: 16px;\n    min-height: 100px;\n    background-color: salmon;\n  }\n\n  span {\n    display: block;\n    padding: 16px 0px;\n  }\n"]))),f=new Array(45).fill(0).map((function(e,n){return n+1})),O="START",p="LOADED",h=function(e,n){switch(n.type){case O:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case p:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,data:[].concat(Object(s.a)(e.data),Object(s.a)(n.newData)),more:10===n.newData.length,after:e.after+n.newData.length});default:throw new Error("Don't understand action")}},x=Object(c.createContext)(),g=function(e){var n=e.children,t=Object(c.useReducer)(h,{loading:!1,more:!0,data:[],after:0}),r=Object(o.a)(t,2),a=r[0],i=r[1],s=a.loading,u=a.data,d=a.after,j=a.more;return Object(l.jsx)(x.Provider,{value:{loading:s,data:u,more:j,load:function(){i({type:O}),setTimeout((function(){var e=f.slice(d,d+10);i({type:p,newData:e})}),300)}},children:n})},m=function(){var e=Object(c.useContext)(x),n=e.data,t=e.loading,r=e.more,a=e.load,i=Object(c.useRef)(a),s=Object(c.useRef)(new IntersectionObserver((function(e){e[0].isIntersecting&&i.current()}),{threshold:1})),u=Object(c.useState)(null),d=Object(o.a)(u,2),j=d[0],f=d[1];return Object(c.useEffect)((function(){i.current=a}),[a]),Object(c.useEffect)((function(){var e=j,n=s.current;return e&&n.observe(e),function(){e&&n.unobserve(e)}}),[j]),Object(l.jsxs)(b,{children:[Object(l.jsx)("ul",{children:n.map((function(e){return Object(l.jsx)("li",{children:e},e)}))}),!t&&r&&Object(l.jsx)("div",{ref:f}),t&&Object(l.jsx)("p",{children:"Loading..."})]})},v=function(){return Object(l.jsx)(g,{children:Object(l.jsx)(m,{})})},w=function(){return Object(l.jsx)(v,{})};i.a.render(Object(l.jsx)(w,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.410c662f.chunk.js.map